<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Prediction History</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#0f172a; --panel:#1e293b; --row:#13263f; --accent:#3b82f6;
  --fake:#dc2626; --real:#16a34a; --text:#f1f5f9; --muted:#94a3b8;
}
body {
  font-family:"Inter",Arial,sans-serif; background:var(--bg); color:var(--text);
  margin:0; padding:40px 24px;
}
h2 { margin-top:0; text-align:center; letter-spacing:.5px; }
.table-wrap {
  max-width:1000px; margin:0 auto; background:var(--panel); padding:24px 28px;
  border-radius:16px; box-shadow:0 8px 22px -8px rgba(0,0,0,.55);
}
table {
  width:100%; border-collapse:collapse; margin-top:8px; font-size:14px;
}
th, td {
  padding:10px 12px; text-align:left; vertical-align:top;
}
th {
  background:#23344d; font-weight:600; font-size:13px; color:var(--text);
}
tbody tr { background:var(--row); }
tbody tr:nth-child(even){ background:#183752; }
tbody tr:hover { outline:1px solid #2b4d77; }
.badge {
  display:inline-block; padding:4px 10px; border-radius:8px; font-weight:600;
  font-size:12px; color:#fff; letter-spacing:.3px;
}
.badge.fake { background:linear-gradient(135deg,var(--fake),#ef4444); }
.badge.real { background:linear-gradient(135deg,var(--real),#22c55e); }
.desc { white-space:pre-wrap; max-width:520px; }
.empty {
  text-align:center; padding:28px 0; color:var(--muted); font-size:14px;
}
a { color:var(--accent); text-decoration:none; font-weight:600; }
a:hover { text-decoration:underline; }
.footer { margin-top:34px; text-align:center; font-size:12px; color:var(--muted); }
</style>
</head>
<body>
<h2>Prediction History</h2>
<div class="table-wrap">
  <table>
    <thead>
      <tr>
        <th>Timestamp</th>
        <th>Prediction</th>
        <th>Confidence (%)</th>
        <th>Job Description (truncated)</th>
      </tr>
    </thead>
    <tbody>
      {% for job, label, conf, time in records %}
      <tr>
        <td style="width:140px;">{{ time }}</td>
        <td style="width:110px;">
          <span class="badge {% if label == 'Fake Job' %}fake{% else %}real{% endif %}">{{ label }}</span>
        </td>
        <td style="width:120px;">{{ conf }}%</td>
        <td class="desc">
          {{ job[:180] }}{% if job|length > 180 %}...{% endif %}
        </td>
      </tr>
      {% endfor %}
      {% if records|length == 0 %}
      <tr><td colspan="4" class="empty">No predictions logged yet.</td></tr>
      {% endif %}
    </tbody>
  </table>
  <p style="text-align:center;margin-top:18px;"><a href="/">‚Üê Back to Home</a></p>
</div>
<div class="footer">Fake Job Posting Detector &middot; History Log</div>
</body>
</html>